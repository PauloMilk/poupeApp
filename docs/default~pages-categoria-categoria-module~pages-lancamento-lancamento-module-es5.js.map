{"version":3,"sources":["src/app/interfaces/page.ts","src/app/pages/categoria/shared/categoria.service.ts","src/app/pages/categoria/shared/categoria.ts","src/app/shared/components/base-resource-form/base-resource-form.component.ts","src/app/shared/components/base-resource-list/base-resource-list.component.ts","src/app/shared/models/base-resource-model.ts","src/app/shared/services/base-resource.service.ts"],"names":[],"mappings":"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","sourcesContent":["import { BaseResourceModel } from '../shared/models/base-resource-model';\r\n\r\nexport class Page<T extends BaseResourceModel> {\r\n\r\n  content: T[];\r\n  pageable: any;\r\n  totalElements: number;\r\n  totalPages: number;\r\n  size: number;\r\n\r\n  static fromJson(jsonData: any): Page<BaseResourceModel> {\r\n    return Object.assign(new Page<BaseResourceModel>(), jsonData);\r\n  }\r\n\r\n}\r\n","import { Injectable, Injector } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { Observable } from 'rxjs';\nimport { environment } from 'src/environments/environment';\nimport { Categoria } from 'src/app/pages/categoria/shared/categoria';\nimport { BaseResourceService } from 'src/app/shared/services/base-resource.service';\nimport { Page } from 'src/app/interfaces/page';\nimport { catchError, map } from 'rxjs/operators';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class CategoriaService extends BaseResourceService<Categoria> {\n\n  constructor(protected injector: Injector) {\n    super(environment.urlAPI + '/categorias', injector, Categoria.fromJson);\n  }\n\n  getAll(page: number, size: number, filter: string): Observable<Page<Categoria>> {\n    page--;\n    let url;\n    if (filter !== null) {\n      url = `${environment.urlAPI}/categorias?page=${page}&size=${size}&nome=${filter}&descricao=${filter}`;\n    } else {\n      url = `${environment.urlAPI}/categorias?page=${page}&size=${size}`;\n    }\n    console.log(url);\n    return this.http.get(url).pipe(\n      map(Page.fromJson.bind(this)),\n      catchError(this.handleError)\n    );\n  }\n\n  // getAll(page: number, size: number, filtro): Observable<any> {\n  //   return this.http.get(url);\n  // }\n\n  // deleteById(id: number): Observable<any> {\n  //   const url = `${environment.urlAPI}/categorias/${id}`;\n  //   return this.http.delete(url);\n  // }\n\n  // save(categoria: Categoria) {\n  //   const url = `${environment.urlAPI}/categorias`;\n  //   return this.http.post(url, categoria);\n  // }\n\n  // updateById(categoria: Categoria): Observable<any> {\n  //   const url = `${environment.urlAPI}/categorias/${categoria.id}`;\n  //   return this.http.put(url, categoria);\n  // }\n\n  // getById(id: number) {\n  //   const url = `${environment.urlAPI}/categorias/${id}`;\n  //   return this.http.get(url);\n  // }\n\n}\n","import { BaseResourceModel } from 'src/app/shared/models/base-resource-model';\r\nimport { stringify } from 'querystring';\r\n\r\nexport class Categoria extends BaseResourceModel {\r\n  constructor(\r\n    public id?: number,\r\n    public nome?: string,\r\n    public descricao?: string\r\n  ) {\r\n    super();\r\n  }\r\n\r\n  static fromJson(jsonData: any): Categoria {\r\n    return Object.assign(new Categoria(), jsonData);\r\n  }\r\n\r\n}\r\n","import { OnInit, AfterContentChecked, Injector } from '@angular/core';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\n\r\n\r\nimport { switchMap } from 'rxjs/operators';\r\n\r\nimport { BaseResourceService } from '../../services/base-resource.service';\r\nimport { BaseResourceModel } from '../../models/base-resource-model';\r\nimport { ToastService } from '../../services/toast.service';\r\n\r\nexport abstract class BaseResourceFormComponent<T extends BaseResourceModel> implements OnInit, AfterContentChecked {\r\n  currentAction: string; // new or edit\r\n  resourceForm: FormGroup;\r\n  pageTitle: string; //create or edit\r\n  serverErrorMessages: string[] = null;\r\n  submittingForm: boolean = false;\r\n\r\n  protected route: ActivatedRoute;\r\n  protected router: Router;\r\n  protected formBuilder: FormBuilder;\r\n\r\n\r\n  constructor(\r\n    protected injector: Injector,\r\n    public resource: T,\r\n    protected resourceService: BaseResourceService<T>,\r\n    protected jsonDataToResourceFn: (jsonData: any) => T,\r\n    protected toastService: ToastService\r\n  ) {\r\n    this.route = this.injector.get(ActivatedRoute);\r\n    this.router = this.injector.get(Router);\r\n    this.formBuilder = this.injector.get(FormBuilder);\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.setCurrentAction();\r\n    this.buildResourceForm();\r\n    this.loadResource();\r\n  }\r\n\r\n  ngAfterContentChecked() {\r\n    this.setPageTitle();\r\n  }\r\n\r\n\r\n  submitForm() {\r\n    this.submittingForm = true;\r\n    if (this.currentAction == \"new\") {\r\n      this.createResource();\r\n    } else {\r\n      this.updateResource();\r\n    }\r\n\r\n  }\r\n\r\n\r\n  // PRIVATE METHODS\r\n  protected setCurrentAction() {\r\n    if (this.route.snapshot.url[0].path == \"new\") {\r\n      this.currentAction = \"new\";\r\n    } else {\r\n      this.currentAction = \"edit\";\r\n    }\r\n  }\r\n\r\n\r\n  protected loadResource() {\r\n    if (this.currentAction == \"edit\") {\r\n      this.route.paramMap.pipe(\r\n        switchMap(params => this.resourceService.getById(+params.get(\"id\")))\r\n      )\r\n        .subscribe(\r\n          (resource) => {\r\n            this.resource = resource;\r\n            this.editorResourceAttributes();\r\n            this.resourceForm.patchValue(resource); //binds loaded resource data to resourceForm\r\n          },\r\n          (error) => {\r\n            this.toastService.show('Ocorreu um erro no servidor, tente mais tarde.', { classname: 'bg-danger text-light', delay: 10000 });\r\n            this.goBackPage();\r\n          }\r\n        );\r\n    }\r\n  }\r\n\r\n  protected setPageTitle() {\r\n    if (this.currentAction == \"new\") {\r\n      this.pageTitle = this.creationPageTitle();\r\n    } else {\r\n      this.pageTitle = this.editPageTitle();\r\n    }\r\n  }\r\n\r\n  protected creationPageTitle() {\r\n    return \"Novo\";\r\n  }\r\n\r\n  protected editPageTitle() {\r\n    return \"Editando\";\r\n  }\r\n\r\n  private createResource() {\r\n    const resource: T = this.jsonDataToResourceFn(this.resourceForm.value);\r\n    this.resourceService.create(resource)\r\n      .subscribe(\r\n        resource => this.actionsForSuccess(resource),\r\n        (error) => this.actionsForError(error)\r\n      );\r\n  }\r\n\r\n  protected editorResourceAttributes() { };\r\n\r\n  private updateResource() {\r\n    const resource: T = this.jsonDataToResourceFn(this.resourceForm.value);\r\n    this.resourceService.update(resource)\r\n      .subscribe(\r\n        resource => this.actionsForSuccess(resource),\r\n        error => this.actionsForError(error)\r\n      );\r\n  }\r\n\r\n  private actionsForSuccess(resource: T) {\r\n    this.toastService.show('Operação realizada com sucesso!', { classname: 'bg-success text-light', delay: 3000 });\r\n\r\n    this.goBackPage();\r\n  }\r\n\r\n  private goBackPage() {\r\n    const baseComponentPath: string = this.route.snapshot.parent.url[0].path;\r\n    console.log(baseComponentPath)\r\n    this.router.navigateByUrl(baseComponentPath, { skipLocationChange: true }).then(\r\n      () => this.router.navigate([baseComponentPath])\r\n    );\r\n  }\r\n\r\n  private actionsForError(error) {\r\n    this.toastService.show('Ocorreu um erro ao processar a sua solicitação!', { classname: 'bg-danger text-light', delay: 3000 });\r\n\r\n    this.submittingForm = false;\r\n    if (error.status === 422) {\r\n      this.serverErrorMessages = JSON.parse(error._body).errors;\r\n    } else {\r\n      this.serverErrorMessages = [\"Falha na comunicação com o servidor, Por favor, tente mais tarde.\"];\r\n    }\r\n\r\n  }\r\n\r\n  protected abstract buildResourceForm(): void;\r\n}\r\n","import { OnInit, OnDestroy } from '@angular/core';\r\nimport { BaseResourceService } from '../../services/base-resource.service';\r\nimport { BaseResourceModel } from '../../models/base-resource-model';\r\nimport { NgbModal } from '@ng-bootstrap/ng-bootstrap';\r\nimport { ModalConfirmComponent } from '../modal-confirm/modal-confirm.component';\r\nimport { Subject } from 'rxjs';\r\nimport { debounceTime, distinctUntilChanged, filter } from 'rxjs/operators';\r\nimport { ToastService } from '../../services/toast.service';\r\n\r\n\r\nexport abstract class BaseResourceListComponent<T extends BaseResourceModel> implements OnInit, OnDestroy {\r\n\r\n  public search: string = null;\r\n  protected loading = false;\r\n  protected page = 1;\r\n  protected size = 5;\r\n  protected collectionSize = 0;\r\n  protected titleModal: string;\r\n  protected messageModal: string;\r\n  resources: T[] = [];\r\n  modelChanged: Subject<string> = new Subject<string>();\r\n  constructor(private resourceService: BaseResourceService<T>, private modalService: NgbModal, protected toastService: ToastService) {\r\n    this.modelChanged.pipe(\r\n      debounceTime(300),\r\n      distinctUntilChanged(),\r\n    ).subscribe(() => this.getAll())\r\n\r\n  }\r\n\r\n  changed(text: string) {\r\n    this.modelChanged.next(text);\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.getAll();\r\n  }\r\n\r\n  protected getAll() {\r\n    this.loading = true;\r\n    this.resourceService.getAll(this.page, this.size, this.search).subscribe(\r\n      entries => {\r\n        this.resources = entries.content;\r\n        this.collectionSize = entries.totalElements;\r\n        this.loading = false;\r\n      },\r\n      error => {\r\n        this.toastService.show('Erro ao tentar carregar a lista, tente mais tarde!', { classname: 'bg-danger text-light', delay: 3000 });\r\n      }\r\n    );\r\n  }\r\n\r\n  protected abstract setTitleAndMessageModal(resource): void;\r\n  deleteResource(resource) {\r\n\r\n    const modalRef = this.modalService.open(ModalConfirmComponent, {\r\n      windowClass: 'light-blue-backdrop',\r\n      centered: true\r\n    });\r\n    this.setTitleAndMessageModal(resource);\r\n    modalRef.componentInstance.message = this.messageModal;\r\n    modalRef.componentInstance.title = this.titleModal;\r\n\r\n    modalRef.result.then(\r\n      (result) => {\r\n        if (result) {\r\n          this.delete(resource);\r\n        }\r\n      }\r\n    );\r\n\r\n  }\r\n  private delete(resource: T) {\r\n    this.resourceService.delete(resource.id).subscribe(\r\n      () => {\r\n        this.resources = this.resources.filter(element => element !== resource);\r\n        if (this.resources.length === 0) {\r\n          this.page--;\r\n          this.getAll();\r\n        }\r\n        this.toastService.show('Operação realizada com sucesso!', { classname: 'bg-success text-light', delay: 3000 });\r\n      },\r\n      (error) => {\r\n        this.toastService.show('Erro ao tentar efetuar a operação, por favor tente mais tarde!', { classname: 'bg-danger text-light', delay: 3000 });\r\n      }\r\n    );\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.toastService.toasts.forEach(x => {\r\n      this.toastService.remove(x);\r\n    });\r\n  }\r\n}\r\n","export abstract class BaseResourceModel {\r\n  id?: number;\r\n}\r\n","\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Observable, throwError } from 'rxjs';\r\nimport { map, catchError } from 'rxjs/operators';\r\nimport { Injector } from '@angular/core';\r\nimport { BaseResourceModel } from '../models/base-resource-model';\r\nimport { Page } from 'src/app/interfaces/page';\r\n\r\nexport abstract class BaseResourceService<T extends BaseResourceModel> {\r\n\r\n  protected http: HttpClient;\r\n  constructor(\r\n    protected apiPath: string,\r\n    protected injetor: Injector,\r\n    protected jsonDataToResourceFn: (jsonData: any) => T\r\n  ) {\r\n    this.http = injetor.get(HttpClient);\r\n  }\r\n\r\n  getAll(page: number, size: number, filter: string): Observable<Page<T>> {\r\n    page--;\r\n    return this.http.get(this.apiPath + `?page=${page}&size=${size}`).pipe(\r\n      map(Page.fromJson.bind(this)),\r\n      catchError(this.handleError)\r\n    );\r\n  }\r\n\r\n  getById(id: number): Observable<T> {\r\n    const url = `${this.apiPath}/${id}`;\r\n    return this.http.get(url).pipe(\r\n      map(this.jsonDataToResource.bind(this)),\r\n      catchError(this.handleError)\r\n    );\r\n  }\r\n\r\n  create(resource: T): Observable<T> {\r\n    return this.http.post(this.apiPath, resource).pipe(\r\n      map(this.jsonDataToResource.bind(this)),\r\n      catchError(this.handleError)\r\n    );\r\n  }\r\n\r\n  update(resource: T): Observable<T> {\r\n    const url = `${this.apiPath}/${resource.id}`;\r\n    return this.http.put(url, resource).pipe(\r\n      map(() => resource) ,\r\n      catchError(this.handleError)\r\n    );\r\n  }\r\n\r\n  delete(id: number): Observable<any> {\r\n    const url = `${this.apiPath}/${id}`;\r\n    return this.http.delete(url).pipe(\r\n      map(() => null),\r\n      catchError(this.handleError)\r\n    );\r\n  }\r\n\r\n  // PROTECTED METHODS\r\n\r\n  protected jsonDataToResources(jsonData: any[]): T[] {\r\n    const resources: T[] = [];\r\n    jsonData.forEach(element => resources.push(this.jsonDataToResourceFn(element)));\r\n    return resources;\r\n  }\r\n\r\n  protected jsonDataToResource(jsonData: any): T {\r\n    return this.jsonDataToResourceFn(jsonData);\r\n  }\r\n\r\n  protected handleError(error: any): Observable<any> {\r\n    console.log('ERRO NA REQUISIÇÃO => ', error);\r\n    return throwError(error);\r\n  }\r\n}\r\n"],"sourceRoot":"webpack:///"}