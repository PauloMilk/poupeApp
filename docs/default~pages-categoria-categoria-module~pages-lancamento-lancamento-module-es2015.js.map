{"version":3,"sources":["./src/app/interfaces/page.ts","./src/app/pages/categoria/shared/categoria.service.ts","./src/app/pages/categoria/shared/categoria.ts","./src/app/shared/components/base-resource-form/base-resource-form.component.ts","./src/app/shared/components/base-resource-list/base-resource-list.component.ts","./src/app/shared/models/base-resource-model.ts","./src/app/shared/services/base-resource.service.ts"],"names":[],"mappings":";;;;;;;;;;;;;;AAEO,MAAM,IAAI;IAQf,MAAM,CAAC,QAAQ,CAAC,QAAa;QAC3B,OAAO,MAAM,CAAC,MAAM,CAAC,IAAI,IAAI,EAAqB,EAAE,QAAQ,CAAC,CAAC;IAChE,CAAC;CAEF;;;;;;;;;;;;;;;;;;;;;;;ACdoD;AAGM;AACU;AACe;AACrC;AACE;AAKjD,IAAa,gBAAgB,GAA7B,MAAa,gBAAiB,SAAQ,iGAA8B;IAElE,YAAsB,QAAkB;QACtC,KAAK,CAAC,wEAAW,CAAC,MAAM,GAAG,aAAa,EAAE,QAAQ,EAAE,kFAAS,CAAC,QAAQ,CAAC,CAAC;QADpD,aAAQ,GAAR,QAAQ,CAAU;IAExC,CAAC;IAED,MAAM,CAAC,IAAY,EAAE,IAAY,EAAE,MAAc;QAC/C,IAAI,EAAE,CAAC;QACP,IAAI,GAAG,CAAC;QACR,IAAI,MAAM,KAAK,IAAI,EAAE;YACnB,GAAG,GAAG,GAAG,wEAAW,CAAC,MAAM,oBAAoB,IAAI,SAAS,IAAI,SAAS,MAAM,cAAc,MAAM,EAAE,CAAC;SACvG;aAAM;YACL,GAAG,GAAG,GAAG,wEAAW,CAAC,MAAM,oBAAoB,IAAI,SAAS,IAAI,EAAE,CAAC;SACpE;QACD,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QACjB,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,IAAI,CAC5B,0DAAG,CAAC,4DAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,EAC7B,iEAAU,CAAC,IAAI,CAAC,WAAW,CAAC,CAC7B,CAAC;IACJ,CAAC;CA0BF;;YA3CiC,sDAAQ;;AAF7B,gBAAgB;IAH5B,gEAAU,CAAC;QACV,UAAU,EAAE,MAAM;KACnB,CAAC;GACW,gBAAgB,CA6C5B;AA7C4B;;;;;;;;;;;;;;;;;;ACZiD;AAGvE,MAAM,SAAU,SAAQ,2FAAiB;IAC9C,YACS,EAAW,EACX,IAAa,EACb,SAAkB;QAEzB,KAAK,EAAE,CAAC;QAJD,OAAE,GAAF,EAAE,CAAS;QACX,SAAI,GAAJ,IAAI,CAAS;QACb,cAAS,GAAT,SAAS,CAAS;IAG3B,CAAC;IAED,MAAM,CAAC,QAAQ,CAAC,QAAa;QAC3B,OAAO,MAAM,CAAC,MAAM,CAAC,IAAI,SAAS,EAAE,EAAE,QAAQ,CAAC,CAAC;IAClD,CAAC;CAEF;;;;;;;;;;;;;;;;;;;;ACfmE;AACX;AAGd;AAMpC,MAAe,yBAAyB;IAY7C,YACY,QAAkB,EACrB,QAAW,EACR,eAAuC,EACvC,oBAA0C,EAC1C,YAA0B;QAJ1B,aAAQ,GAAR,QAAQ,CAAU;QACrB,aAAQ,GAAR,QAAQ,CAAG;QACR,oBAAe,GAAf,eAAe,CAAwB;QACvC,yBAAoB,GAApB,oBAAoB,CAAsB;QAC1C,iBAAY,GAAZ,YAAY,CAAc;QAbtC,wBAAmB,GAAa,IAAI,CAAC;QACrC,mBAAc,GAAY,KAAK,CAAC;QAc9B,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,8DAAc,CAAC,CAAC;QAC/C,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,sDAAM,CAAC,CAAC;QACxC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,0DAAW,CAAC,CAAC;IACpD,CAAC;IAED,QAAQ;QACN,IAAI,CAAC,gBAAgB,EAAE,CAAC;QACxB,IAAI,CAAC,iBAAiB,EAAE,CAAC;QACzB,IAAI,CAAC,YAAY,EAAE,CAAC;IACtB,CAAC;IAED,qBAAqB;QACnB,IAAI,CAAC,YAAY,EAAE,CAAC;IACtB,CAAC;IAGD,UAAU;QACR,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;QAC3B,IAAI,IAAI,CAAC,aAAa,IAAI,KAAK,EAAE;YAC/B,IAAI,CAAC,cAAc,EAAE,CAAC;SACvB;aAAM;YACL,IAAI,CAAC,cAAc,EAAE,CAAC;SACvB;IAEH,CAAC;IAGD,kBAAkB;IACR,gBAAgB;QACxB,IAAI,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,IAAI,KAAK,EAAE;YAC5C,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;SAC5B;aAAM;YACL,IAAI,CAAC,aAAa,GAAG,MAAM,CAAC;SAC7B;IACH,CAAC;IAGS,YAAY;QACpB,IAAI,IAAI,CAAC,aAAa,IAAI,MAAM,EAAE;YAChC,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,CACtB,gEAAS,CAAC,MAAM,CAAC,EAAE,CAAC,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,CACrE;iBACE,SAAS,CACR,CAAC,QAAQ,EAAE,EAAE;gBACX,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;gBACzB,IAAI,CAAC,wBAAwB,EAAE,CAAC;gBAChC,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,QAAQ,CAAC,CAAC,CAAC,4CAA4C;YACtF,CAAC,EACD,CAAC,KAAK,EAAE,EAAE;gBACR,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,gDAAgD,EAAE,EAAE,SAAS,EAAE,sBAAsB,EAAE,KAAK,EAAE,KAAK,EAAE,CAAC,CAAC;gBAC9H,IAAI,CAAC,UAAU,EAAE,CAAC;YACpB,CAAC,CACF,CAAC;SACL;IACH,CAAC;IAES,YAAY;QACpB,IAAI,IAAI,CAAC,aAAa,IAAI,KAAK,EAAE;YAC/B,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,iBAAiB,EAAE,CAAC;SAC3C;aAAM;YACL,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,aAAa,EAAE,CAAC;SACvC;IACH,CAAC;IAES,iBAAiB;QACzB,OAAO,MAAM,CAAC;IAChB,CAAC;IAES,aAAa;QACrB,OAAO,UAAU,CAAC;IACpB,CAAC;IAEO,cAAc;QACpB,MAAM,QAAQ,GAAM,IAAI,CAAC,oBAAoB,CAAC,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC;QACvE,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC,QAAQ,CAAC;aAClC,SAAS,CACR,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC,iBAAiB,CAAC,QAAQ,CAAC,EAC5C,CAAC,KAAK,EAAE,EAAE,CAAC,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,CACvC,CAAC;IACN,CAAC;IAES,wBAAwB,KAAK,CAAC;IAAA,CAAC;IAEjC,cAAc;QACpB,MAAM,QAAQ,GAAM,IAAI,CAAC,oBAAoB,CAAC,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC;QACvE,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC,QAAQ,CAAC;aAClC,SAAS,CACR,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC,iBAAiB,CAAC,QAAQ,CAAC,EAC5C,KAAK,CAAC,EAAE,CAAC,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,CACrC,CAAC;IACN,CAAC;IAEO,iBAAiB,CAAC,QAAW;QACnC,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,iCAAiC,EAAE,EAAE,SAAS,EAAE,uBAAuB,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC,CAAC;QAE/G,IAAI,CAAC,UAAU,EAAE,CAAC;IACpB,CAAC;IAEO,UAAU;QAChB,MAAM,iBAAiB,GAAW,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;QACzE,OAAO,CAAC,GAAG,CAAC,iBAAiB,CAAC;QAC9B,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,iBAAiB,EAAE,EAAE,kBAAkB,EAAE,IAAI,EAAE,CAAC,CAAC,IAAI,CAC7E,GAAG,EAAE,CAAC,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,iBAAiB,CAAC,CAAC,CAChD,CAAC;IACJ,CAAC;IAEO,eAAe,CAAC,KAAK;QAC3B,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,iDAAiD,EAAE,EAAE,SAAS,EAAE,sBAAsB,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC,CAAC;QAE9H,IAAI,CAAC,cAAc,GAAG,KAAK,CAAC;QAC5B,IAAI,KAAK,CAAC,MAAM,KAAK,GAAG,EAAE;YACxB,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,MAAM,CAAC;SAC3D;aAAM;YACL,IAAI,CAAC,mBAAmB,GAAG,CAAC,mEAAmE,CAAC,CAAC;SAClG;IAEH,CAAC;CAGF;;;;;;;;;;;;;;;;;;;;ACjJgF;AAClD;AAC6C;AAIrE,MAAe,yBAAyB;IAW7C,YAAoB,eAAuC,EAAU,YAAsB,EAAY,YAA0B;QAA7G,oBAAe,GAAf,eAAe,CAAwB;QAAU,iBAAY,GAAZ,YAAY,CAAU;QAAY,iBAAY,GAAZ,YAAY,CAAc;QAT1H,WAAM,GAAW,IAAI,CAAC;QACnB,YAAO,GAAG,KAAK,CAAC;QAChB,SAAI,GAAG,CAAC,CAAC;QACT,SAAI,GAAG,CAAC,CAAC;QACT,mBAAc,GAAG,CAAC,CAAC;QAG7B,cAAS,GAAQ,EAAE,CAAC;QACpB,iBAAY,GAAoB,IAAI,4CAAO,EAAU,CAAC;QAEpD,IAAI,CAAC,YAAY,CAAC,IAAI,CACpB,mEAAY,CAAC,GAAG,CAAC,EACjB,2EAAoB,EAAE,CACvB,CAAC,SAAS,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC;IAElC,CAAC;IAED,OAAO,CAAC,IAAY;QAClB,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IAC/B,CAAC;IAED,QAAQ;QACN,IAAI,CAAC,MAAM,EAAE,CAAC;IAChB,CAAC;IAES,MAAM;QACd,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;QACpB,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC,SAAS,CACtE,OAAO,CAAC,EAAE;YACR,IAAI,CAAC,SAAS,GAAG,OAAO,CAAC,OAAO,CAAC;YACjC,IAAI,CAAC,cAAc,GAAG,OAAO,CAAC,aAAa,CAAC;YAC5C,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;QACvB,CAAC,EACD,KAAK,CAAC,EAAE;YACN,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,oDAAoD,EAAE,EAAE,SAAS,EAAE,sBAAsB,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC,CAAC;QACnI,CAAC,CACF,CAAC;IACJ,CAAC;IAGD,cAAc,CAAC,QAAQ;QAErB,MAAM,QAAQ,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,4FAAqB,EAAE;YAC7D,WAAW,EAAE,qBAAqB;YAClC,QAAQ,EAAE,IAAI;SACf,CAAC,CAAC;QACH,IAAI,CAAC,uBAAuB,CAAC,QAAQ,CAAC,CAAC;QACvC,QAAQ,CAAC,iBAAiB,CAAC,OAAO,GAAG,IAAI,CAAC,YAAY,CAAC;QACvD,QAAQ,CAAC,iBAAiB,CAAC,KAAK,GAAG,IAAI,CAAC,UAAU,CAAC;QAEnD,QAAQ,CAAC,MAAM,CAAC,IAAI,CAClB,CAAC,MAAM,EAAE,EAAE;YACT,IAAI,MAAM,EAAE;gBACV,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;aACvB;QACH,CAAC,CACF,CAAC;IAEJ,CAAC;IACO,MAAM,CAAC,QAAW;QACxB,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC,SAAS,CAChD,GAAG,EAAE;YACH,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,OAAO,CAAC,EAAE,CAAC,OAAO,KAAK,QAAQ,CAAC,CAAC;YACxE,IAAI,IAAI,CAAC,SAAS,CAAC,MAAM,KAAK,CAAC,EAAE;gBAC/B,IAAI,CAAC,IAAI,EAAE,CAAC;gBACZ,IAAI,CAAC,MAAM,EAAE,CAAC;aACf;YACD,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,iCAAiC,EAAE,EAAE,SAAS,EAAE,uBAAuB,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC,CAAC;QACjH,CAAC,EACD,CAAC,KAAK,EAAE,EAAE;YACR,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,gEAAgE,EAAE,EAAE,SAAS,EAAE,sBAAsB,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC,CAAC;QAC/I,CAAC,CACF,CAAC;IACJ,CAAC;IAED,WAAW;QACT,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE;YACnC,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;QAC9B,CAAC,CAAC,CAAC;IACL,CAAC;CACF;;;;;;;;;;;;;;;;;AC5FM,MAAe,iBAAiB;CAEtC;;;;;;;;;;;;;;;;;;;;;ACDiD;AACJ;AACG;AAGF;AAExC,MAAe,mBAAmB;IAGvC,YACY,OAAe,EACf,OAAiB,EACjB,oBAA0C;QAF1C,YAAO,GAAP,OAAO,CAAQ;QACf,YAAO,GAAP,OAAO,CAAU;QACjB,yBAAoB,GAApB,oBAAoB,CAAsB;QAEpD,IAAI,CAAC,IAAI,GAAG,OAAO,CAAC,GAAG,CAAC,+DAAU,CAAC,CAAC;IACtC,CAAC;IAED,MAAM,CAAC,IAAY,EAAE,IAAY,EAAE,MAAc;QAC/C,IAAI,EAAE,CAAC;QACP,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,GAAG,SAAS,IAAI,SAAS,IAAI,EAAE,CAAC,CAAC,IAAI,CACpE,0DAAG,CAAC,4DAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,EAC7B,iEAAU,CAAC,IAAI,CAAC,WAAW,CAAC,CAC7B,CAAC;IACJ,CAAC;IAED,OAAO,CAAC,EAAU;QAChB,MAAM,GAAG,GAAG,GAAG,IAAI,CAAC,OAAO,IAAI,EAAE,EAAE,CAAC;QACpC,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,IAAI,CAC5B,0DAAG,CAAC,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,EACvC,iEAAU,CAAC,IAAI,CAAC,WAAW,CAAC,CAC7B,CAAC;IACJ,CAAC;IAED,MAAM,CAAC,QAAW;QAChB,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,QAAQ,CAAC,CAAC,IAAI,CAChD,0DAAG,CAAC,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,EACvC,iEAAU,CAAC,IAAI,CAAC,WAAW,CAAC,CAC7B,CAAC;IACJ,CAAC;IAED,MAAM,CAAC,QAAW;QAChB,MAAM,GAAG,GAAG,GAAG,IAAI,CAAC,OAAO,IAAI,QAAQ,CAAC,EAAE,EAAE,CAAC;QAC7C,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,EAAE,QAAQ,CAAC,CAAC,IAAI,CACtC,0DAAG,CAAC,GAAG,EAAE,CAAC,QAAQ,CAAC,EACnB,iEAAU,CAAC,IAAI,CAAC,WAAW,CAAC,CAC7B,CAAC;IACJ,CAAC;IAED,MAAM,CAAC,EAAU;QACf,MAAM,GAAG,GAAG,GAAG,IAAI,CAAC,OAAO,IAAI,EAAE,EAAE,CAAC;QACpC,OAAO,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAC/B,0DAAG,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,EACf,iEAAU,CAAC,IAAI,CAAC,WAAW,CAAC,CAC7B,CAAC;IACJ,CAAC;IAED,oBAAoB;IAEV,mBAAmB,CAAC,QAAe;QAC3C,MAAM,SAAS,GAAQ,EAAE,CAAC;QAC1B,QAAQ,CAAC,OAAO,CAAC,OAAO,CAAC,EAAE,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,oBAAoB,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;QAChF,OAAO,SAAS,CAAC;IACnB,CAAC;IAES,kBAAkB,CAAC,QAAa;QACxC,OAAO,IAAI,CAAC,oBAAoB,CAAC,QAAQ,CAAC,CAAC;IAC7C,CAAC;IAES,WAAW,CAAC,KAAU;QAC9B,OAAO,CAAC,GAAG,CAAC,wBAAwB,EAAE,KAAK,CAAC,CAAC;QAC7C,OAAO,uDAAU,CAAC,KAAK,CAAC,CAAC;IAC3B,CAAC;CACF","file":"default~pages-categoria-categoria-module~pages-lancamento-lancamento-module-es2015.js","sourcesContent":["import { BaseResourceModel } from '../shared/models/base-resource-model';\r\n\r\nexport class Page<T extends BaseResourceModel> {\r\n\r\n  content: T[];\r\n  pageable: any;\r\n  totalElements: number;\r\n  totalPages: number;\r\n  size: number;\r\n\r\n  static fromJson(jsonData: any): Page<BaseResourceModel> {\r\n    return Object.assign(new Page<BaseResourceModel>(), jsonData);\r\n  }\r\n\r\n}\r\n","import { Injectable, Injector } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { Observable } from 'rxjs';\nimport { environment } from 'src/environments/environment';\nimport { Categoria } from 'src/app/pages/categoria/shared/categoria';\nimport { BaseResourceService } from 'src/app/shared/services/base-resource.service';\nimport { Page } from 'src/app/interfaces/page';\nimport { catchError, map } from 'rxjs/operators';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class CategoriaService extends BaseResourceService<Categoria> {\n\n  constructor(protected injector: Injector) {\n    super(environment.urlAPI + '/categorias', injector, Categoria.fromJson);\n  }\n\n  getAll(page: number, size: number, filter: string): Observable<Page<Categoria>> {\n    page--;\n    let url;\n    if (filter !== null) {\n      url = `${environment.urlAPI}/categorias?page=${page}&size=${size}&nome=${filter}&descricao=${filter}`;\n    } else {\n      url = `${environment.urlAPI}/categorias?page=${page}&size=${size}`;\n    }\n    console.log(url);\n    return this.http.get(url).pipe(\n      map(Page.fromJson.bind(this)),\n      catchError(this.handleError)\n    );\n  }\n\n  // getAll(page: number, size: number, filtro): Observable<any> {\n  //   return this.http.get(url);\n  // }\n\n  // deleteById(id: number): Observable<any> {\n  //   const url = `${environment.urlAPI}/categorias/${id}`;\n  //   return this.http.delete(url);\n  // }\n\n  // save(categoria: Categoria) {\n  //   const url = `${environment.urlAPI}/categorias`;\n  //   return this.http.post(url, categoria);\n  // }\n\n  // updateById(categoria: Categoria): Observable<any> {\n  //   const url = `${environment.urlAPI}/categorias/${categoria.id}`;\n  //   return this.http.put(url, categoria);\n  // }\n\n  // getById(id: number) {\n  //   const url = `${environment.urlAPI}/categorias/${id}`;\n  //   return this.http.get(url);\n  // }\n\n}\n","import { BaseResourceModel } from 'src/app/shared/models/base-resource-model';\r\nimport { stringify } from 'querystring';\r\n\r\nexport class Categoria extends BaseResourceModel {\r\n  constructor(\r\n    public id?: number,\r\n    public nome?: string,\r\n    public descricao?: string\r\n  ) {\r\n    super();\r\n  }\r\n\r\n  static fromJson(jsonData: any): Categoria {\r\n    return Object.assign(new Categoria(), jsonData);\r\n  }\r\n\r\n}\r\n","import { OnInit, AfterContentChecked, Injector } from '@angular/core';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\n\r\n\r\nimport { switchMap } from 'rxjs/operators';\r\n\r\nimport { BaseResourceService } from '../../services/base-resource.service';\r\nimport { BaseResourceModel } from '../../models/base-resource-model';\r\nimport { ToastService } from '../../services/toast.service';\r\n\r\nexport abstract class BaseResourceFormComponent<T extends BaseResourceModel> implements OnInit, AfterContentChecked {\r\n  currentAction: string; // new or edit\r\n  resourceForm: FormGroup;\r\n  pageTitle: string; //create or edit\r\n  serverErrorMessages: string[] = null;\r\n  submittingForm: boolean = false;\r\n\r\n  protected route: ActivatedRoute;\r\n  protected router: Router;\r\n  protected formBuilder: FormBuilder;\r\n\r\n\r\n  constructor(\r\n    protected injector: Injector,\r\n    public resource: T,\r\n    protected resourceService: BaseResourceService<T>,\r\n    protected jsonDataToResourceFn: (jsonData: any) => T,\r\n    protected toastService: ToastService\r\n  ) {\r\n    this.route = this.injector.get(ActivatedRoute);\r\n    this.router = this.injector.get(Router);\r\n    this.formBuilder = this.injector.get(FormBuilder);\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.setCurrentAction();\r\n    this.buildResourceForm();\r\n    this.loadResource();\r\n  }\r\n\r\n  ngAfterContentChecked() {\r\n    this.setPageTitle();\r\n  }\r\n\r\n\r\n  submitForm() {\r\n    this.submittingForm = true;\r\n    if (this.currentAction == \"new\") {\r\n      this.createResource();\r\n    } else {\r\n      this.updateResource();\r\n    }\r\n\r\n  }\r\n\r\n\r\n  // PRIVATE METHODS\r\n  protected setCurrentAction() {\r\n    if (this.route.snapshot.url[0].path == \"new\") {\r\n      this.currentAction = \"new\";\r\n    } else {\r\n      this.currentAction = \"edit\";\r\n    }\r\n  }\r\n\r\n\r\n  protected loadResource() {\r\n    if (this.currentAction == \"edit\") {\r\n      this.route.paramMap.pipe(\r\n        switchMap(params => this.resourceService.getById(+params.get(\"id\")))\r\n      )\r\n        .subscribe(\r\n          (resource) => {\r\n            this.resource = resource;\r\n            this.editorResourceAttributes();\r\n            this.resourceForm.patchValue(resource); //binds loaded resource data to resourceForm\r\n          },\r\n          (error) => {\r\n            this.toastService.show('Ocorreu um erro no servidor, tente mais tarde.', { classname: 'bg-danger text-light', delay: 10000 });\r\n            this.goBackPage();\r\n          }\r\n        );\r\n    }\r\n  }\r\n\r\n  protected setPageTitle() {\r\n    if (this.currentAction == \"new\") {\r\n      this.pageTitle = this.creationPageTitle();\r\n    } else {\r\n      this.pageTitle = this.editPageTitle();\r\n    }\r\n  }\r\n\r\n  protected creationPageTitle() {\r\n    return \"Novo\";\r\n  }\r\n\r\n  protected editPageTitle() {\r\n    return \"Editando\";\r\n  }\r\n\r\n  private createResource() {\r\n    const resource: T = this.jsonDataToResourceFn(this.resourceForm.value);\r\n    this.resourceService.create(resource)\r\n      .subscribe(\r\n        resource => this.actionsForSuccess(resource),\r\n        (error) => this.actionsForError(error)\r\n      );\r\n  }\r\n\r\n  protected editorResourceAttributes() { };\r\n\r\n  private updateResource() {\r\n    const resource: T = this.jsonDataToResourceFn(this.resourceForm.value);\r\n    this.resourceService.update(resource)\r\n      .subscribe(\r\n        resource => this.actionsForSuccess(resource),\r\n        error => this.actionsForError(error)\r\n      );\r\n  }\r\n\r\n  private actionsForSuccess(resource: T) {\r\n    this.toastService.show('Operação realizada com sucesso!', { classname: 'bg-success text-light', delay: 3000 });\r\n\r\n    this.goBackPage();\r\n  }\r\n\r\n  private goBackPage() {\r\n    const baseComponentPath: string = this.route.snapshot.parent.url[0].path;\r\n    console.log(baseComponentPath)\r\n    this.router.navigateByUrl(baseComponentPath, { skipLocationChange: true }).then(\r\n      () => this.router.navigate([baseComponentPath])\r\n    );\r\n  }\r\n\r\n  private actionsForError(error) {\r\n    this.toastService.show('Ocorreu um erro ao processar a sua solicitação!', { classname: 'bg-danger text-light', delay: 3000 });\r\n\r\n    this.submittingForm = false;\r\n    if (error.status === 422) {\r\n      this.serverErrorMessages = JSON.parse(error._body).errors;\r\n    } else {\r\n      this.serverErrorMessages = [\"Falha na comunicação com o servidor, Por favor, tente mais tarde.\"];\r\n    }\r\n\r\n  }\r\n\r\n  protected abstract buildResourceForm(): void;\r\n}\r\n","import { OnInit, OnDestroy } from '@angular/core';\r\nimport { BaseResourceService } from '../../services/base-resource.service';\r\nimport { BaseResourceModel } from '../../models/base-resource-model';\r\nimport { NgbModal } from '@ng-bootstrap/ng-bootstrap';\r\nimport { ModalConfirmComponent } from '../modal-confirm/modal-confirm.component';\r\nimport { Subject } from 'rxjs';\r\nimport { debounceTime, distinctUntilChanged, filter } from 'rxjs/operators';\r\nimport { ToastService } from '../../services/toast.service';\r\n\r\n\r\nexport abstract class BaseResourceListComponent<T extends BaseResourceModel> implements OnInit, OnDestroy {\r\n\r\n  public search: string = null;\r\n  protected loading = false;\r\n  protected page = 1;\r\n  protected size = 5;\r\n  protected collectionSize = 0;\r\n  protected titleModal: string;\r\n  protected messageModal: string;\r\n  resources: T[] = [];\r\n  modelChanged: Subject<string> = new Subject<string>();\r\n  constructor(private resourceService: BaseResourceService<T>, private modalService: NgbModal, protected toastService: ToastService) {\r\n    this.modelChanged.pipe(\r\n      debounceTime(300),\r\n      distinctUntilChanged(),\r\n    ).subscribe(() => this.getAll())\r\n\r\n  }\r\n\r\n  changed(text: string) {\r\n    this.modelChanged.next(text);\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.getAll();\r\n  }\r\n\r\n  protected getAll() {\r\n    this.loading = true;\r\n    this.resourceService.getAll(this.page, this.size, this.search).subscribe(\r\n      entries => {\r\n        this.resources = entries.content;\r\n        this.collectionSize = entries.totalElements;\r\n        this.loading = false;\r\n      },\r\n      error => {\r\n        this.toastService.show('Erro ao tentar carregar a lista, tente mais tarde!', { classname: 'bg-danger text-light', delay: 3000 });\r\n      }\r\n    );\r\n  }\r\n\r\n  protected abstract setTitleAndMessageModal(resource): void;\r\n  deleteResource(resource) {\r\n\r\n    const modalRef = this.modalService.open(ModalConfirmComponent, {\r\n      windowClass: 'light-blue-backdrop',\r\n      centered: true\r\n    });\r\n    this.setTitleAndMessageModal(resource);\r\n    modalRef.componentInstance.message = this.messageModal;\r\n    modalRef.componentInstance.title = this.titleModal;\r\n\r\n    modalRef.result.then(\r\n      (result) => {\r\n        if (result) {\r\n          this.delete(resource);\r\n        }\r\n      }\r\n    );\r\n\r\n  }\r\n  private delete(resource: T) {\r\n    this.resourceService.delete(resource.id).subscribe(\r\n      () => {\r\n        this.resources = this.resources.filter(element => element !== resource);\r\n        if (this.resources.length === 0) {\r\n          this.page--;\r\n          this.getAll();\r\n        }\r\n        this.toastService.show('Operação realizada com sucesso!', { classname: 'bg-success text-light', delay: 3000 });\r\n      },\r\n      (error) => {\r\n        this.toastService.show('Erro ao tentar efetuar a operação, por favor tente mais tarde!', { classname: 'bg-danger text-light', delay: 3000 });\r\n      }\r\n    );\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.toastService.toasts.forEach(x => {\r\n      this.toastService.remove(x);\r\n    });\r\n  }\r\n}\r\n","export abstract class BaseResourceModel {\r\n  id?: number;\r\n}\r\n","\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Observable, throwError } from 'rxjs';\r\nimport { map, catchError } from 'rxjs/operators';\r\nimport { Injector } from '@angular/core';\r\nimport { BaseResourceModel } from '../models/base-resource-model';\r\nimport { Page } from 'src/app/interfaces/page';\r\n\r\nexport abstract class BaseResourceService<T extends BaseResourceModel> {\r\n\r\n  protected http: HttpClient;\r\n  constructor(\r\n    protected apiPath: string,\r\n    protected injetor: Injector,\r\n    protected jsonDataToResourceFn: (jsonData: any) => T\r\n  ) {\r\n    this.http = injetor.get(HttpClient);\r\n  }\r\n\r\n  getAll(page: number, size: number, filter: string): Observable<Page<T>> {\r\n    page--;\r\n    return this.http.get(this.apiPath + `?page=${page}&size=${size}`).pipe(\r\n      map(Page.fromJson.bind(this)),\r\n      catchError(this.handleError)\r\n    );\r\n  }\r\n\r\n  getById(id: number): Observable<T> {\r\n    const url = `${this.apiPath}/${id}`;\r\n    return this.http.get(url).pipe(\r\n      map(this.jsonDataToResource.bind(this)),\r\n      catchError(this.handleError)\r\n    );\r\n  }\r\n\r\n  create(resource: T): Observable<T> {\r\n    return this.http.post(this.apiPath, resource).pipe(\r\n      map(this.jsonDataToResource.bind(this)),\r\n      catchError(this.handleError)\r\n    );\r\n  }\r\n\r\n  update(resource: T): Observable<T> {\r\n    const url = `${this.apiPath}/${resource.id}`;\r\n    return this.http.put(url, resource).pipe(\r\n      map(() => resource) ,\r\n      catchError(this.handleError)\r\n    );\r\n  }\r\n\r\n  delete(id: number): Observable<any> {\r\n    const url = `${this.apiPath}/${id}`;\r\n    return this.http.delete(url).pipe(\r\n      map(() => null),\r\n      catchError(this.handleError)\r\n    );\r\n  }\r\n\r\n  // PROTECTED METHODS\r\n\r\n  protected jsonDataToResources(jsonData: any[]): T[] {\r\n    const resources: T[] = [];\r\n    jsonData.forEach(element => resources.push(this.jsonDataToResourceFn(element)));\r\n    return resources;\r\n  }\r\n\r\n  protected jsonDataToResource(jsonData: any): T {\r\n    return this.jsonDataToResourceFn(jsonData);\r\n  }\r\n\r\n  protected handleError(error: any): Observable<any> {\r\n    console.log('ERRO NA REQUISIÇÃO => ', error);\r\n    return throwError(error);\r\n  }\r\n}\r\n"],"sourceRoot":"webpack:///"}